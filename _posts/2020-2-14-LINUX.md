---
layout:     post
title:      Linux
subtitle:   
date:       2020-2-14
author:     RJ
header-img: 
catalog: true
tags:
    - job

---
<p id = "build"></p>
---



## 跳板机

sslvpn 远程网关 端口

账号相关：

- Ssl vpn账号：k 		密码：#)
- 跳板机账号：jum		密码：
- 跳板机地址:	192.168	登录方式: ssh


[使用winScp实现跳板机登陆内网服务器](https://blog.csdn.net/shengqianfeng/article/details/88603250)

首先设置跳板机配置，打开高级站点设置---选择隧道

download sh

mkdir iwslt2016 | 
wget -qO- --show-progress https://wit3.fbk.eu/archive/2016-01//texts/de/en/de-en.tgz | 
tar xz; mv de-en iwslt2016



## 系统相关

uname -a 查看系统版本  cat /proc/version

ps -le 查看所有进程

kill -9 具体的PID
 
nvidia-smi

watch -n 10 nvidia-smi

- yum -y install wget
- wget -c http://www.openslr.org/resources/18/data_thchs30.tgz


## 文件操作

vim删除文件中所有内容的方法：
(：代表要切换到命令模式输入：之后的命令)

(1):%d    不管光标在哪里，删除所有

(2) gg dG   gg的意思是光标切换到第一行


unzip filename.zip

gunzip file.gz 

filename.tar.gz的解压:   tar -zxvf filename.tar.gz

z: 　　gzip  　　　　　　　　    压缩格式

x: 　　extract　　　　　　　　  解压

v:　　 verbose　　　　　　　　详细信息

f: 　　file(file=archieve)　　　　文件

filename.tar.bz2的解压:  tar -jxvf filename.tar.bz2

j: 　　bzip2　　　　　　　　　 压缩格式


rm -rf 目录名字  -r 就是向下递归，不管有多少级目录，一并删除   -f 就是直接强行删除，不作任何提示的意思

[file operation](https://blog.csdn.net/linjpg/article/details/77854671)

## 环境变量

vim /etc/profile

export PATH=/root/anaconda3/bin:$PATH

source /etc/profile  生效



## jupyter相关命令

conda info -e

conda remove -n py36 --all

# sh:

eval: It combines arguments into a single string and uses it as an input to the shell and execute the commands.




# 服务器anaconda安装

centos 7 下

首先安装 bzip2 库，不然安装过程会报错 bunzip2: command not found

sudo yum install -y bzip2


最近在服务器上安装了anaconda3，先简单说一下anaconda3是干什么的。anaconda指的是一个开源的Python发行版本，包括了python和很多常见的软件库, 和一个包管理器conda。常见的科学计算类的库都包含在里面了，使得安装比常规python安装要容易。

Anaconda是专注于数据分析的Python发行版本，包含了conda、Python等190多个科学包及其依赖项。

下载：

wget https://repo.continuum.io/archive/Anaconda3-2018.12-Linux-x86_64.sh

bash Anaconda3-2018.12-Linux-x86_64.sh 

安装完成后增加环境变量

vim /root/.bashrc
 

 #added by Anaconda3 installer
 export PATH="/root/anaconda3/bin:$PATH"

保存后：

source /root/.bashrc

conda create -n MASS python==3.6

source activate MASS

conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/free/
conda config --add channels https://mirrors.tuna.tsinghua.edu.cn/anaconda/pkgs/main/
conda config --set show_channel_urls yes

## jupyter多个kernel 安装

python3 -m pip --version    # 检查pip版本

python3 -m pip install --upgrade pip     # 更新pip版本

python3 -m pip install ipykernel      # 安装ipykernel

python3 -m ipykernel install --user --name python35 --display-name "python35"     # 配置ipykernel到jupyter中


## 应用部署

### 虚拟环境
在开发Python应用程序的时候，系统安装的Python3只有一个版本：3.4。所有第三方的包都会被pip安装到Python3的site-packages目录下。

如果我们要同时开发多个应用程序，那这些应用程序都会共用一个Python，就是安装在系统的Python 3。如果应用A需要jinja 2.7，而应用B需要jinja 2.6怎么办？

这种情况下，每个应用可能需要各自拥有一套“独立”的Python运行环境。virtualenv就是用来为一个应用创建一套“隔离”的Python运行环境。

首先，我们用pip安装virtualenv：

$ pip3 install virtualenv


Virtual Environment
Create new virtual environment

- cd ~/.virtualenvs

virtualenv name-of-env
Activate virtual environment

- source env/bin/activate

Go to app.py directory where requirements.txt is also located
Install required packages from requirements.txt

- pip install -r requirements.txt

You will only have to install the requirements.txt when working with a new virtual environment.


### 后台运行

http://127.0.0.1:5000/sent?query==hello

sent.sh

```
cd /root/venv
source flask_demo/bin/activate
cd /root/flask-rest-setup/sentiment-clf
nohub python app.sh &
```

nohup，顾名思义，就是使得运行的命令可以忽略HANGUP信号。因此，即使突然断网或者关闭终端，该后台任务依然可以继续执行。

这里需要指明的是，nohup并不会自动将任务运行在后台，我们需要在命令行末尾加上&来显示的指明。

jobs -l

ps -ef 

查看使用某端口的进程


lsof -i:5555

netstat -nap|grep 5555

## 丰富接口


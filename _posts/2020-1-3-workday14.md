---
layout:     post
title:      workday14
subtitle:   
date:       2020-1-3
author:     RJ
header-img: 
catalog: true
tags:
    - job

---
<p id = "build"></p>
---

## 工作安排
1. 语音数据错误率统计分析，定位错误分布，思考纠错策略
2. 拼音语言模型初步搭建
3. 纠错基本知识学习归纳


## 1. 错误统计分析
提取数据到compare.txt文件中：
```
hanzi:兰州哪有买路虎汽车的
corrc:lan2 zhou1 na3 you3 mai3 lu4 hu3 qi4 che1 de
error:lai2 diao4 na2 you3 mai3 lu4 hu2 qi2 che1 le
diff:
兰 lan2 lai2
州 zhou1 diao4
哪 na3 na2
虎 hu3 hu2
汽 qi4 qi2
的 de le

hanzi:明天上午六点三十分叫我
corrc:ming2 tian1 shang4 wu3 liu4 dian3 san1 shi2 fen1 jiao4 wo3
error:ming2 tian1 shang4 liu4 dian3 san1 ren2 fen1 jiao4 le
diff:
午 wu3 liu4
六 liu4 dian3
点 dian3 san1
三 san1 ren2
十 shi2 fen1
分 fen1 jiao4
叫 jiao4 le

我 wo3 [miss]


hanzi:QQ通讯录下载安装好了吗
corrc:QQ tong1 xun4 lu4 xia4 zai4 an1 zhuang1 hao3 le ma
error:ke3 he1 tong1 xue2 rou4 xia4 zai4 zhuang1 hao3 le ma
diff:
Q QQ ke3
Q tong1 he1
通 xun4 tong1
讯 lu4 xue2
录 xia4 rou4
下 zai4 xia4
载 an1 zai4

hanzi:范冰冰出演过的电视剧有哪些
corrc:fan4 bing1 bing1 chu1 yan3 guo4 de dian4 shi4 ju4 you3 nei3 xie1
error:fan4 bing1 bin1 chu1 yang3 guo2 de dian4 shi4 qu4 you3 na3 xie1
diff:
冰 bing1 bin1
演 yan3 yang3
过 guo4 guo2
剧 ju4 qu4
哪 nei3 na3

...
...
...
```
得到错误类型：
- 声调  ___  哪 na3 na2
- 韵母   ___  兰 lan2 lai2
- 声母   ___  的 de le
- 缺词错位
- 多词错位
- 完全错误___  我 wo3 le
- 英文缩写 ___ QQ  ke3 he1
- 前后鼻音 ___ 冰 bing1 bin1 ;___   呢 ne le
- 翘舌音  ___曾 ceng2 cheng2

分析完错误类型后，发现纠错的道路任重而道远。

如果一开始就把目标定的太高，如去纠正语音识别造成的缺词、多词、完全错误，势必会陷入很大的麻烦。

仔细思考了一下，先由简到繁，在保证了基础的纠错，如声调，韵母，翘舌，鼻音等有迹可循的错误纠正下，再去纠正那些比较复杂的错误。

## 2. 拼音语言模型搭建
根据拼音和汉字对应，进行分词分拼音。由于汉字的词组很大，会消耗很大的计算量，但是拼音的话就会小很多。


![](https://raw.githubusercontent.com/rejae/rejae.github.io/master/img/202013glove1.png)
![](https://raw.githubusercontent.com/rejae/rejae.github.io/master/img/202013glove2.png)

[glove 训练自己的语料](https://blog.csdn.net/imsuhxz/article/details/87798501)
使用150M，110W条数据训练完成后，得到了三个文件：
- vectors.bin
- vectors.txt
- vocab.txt

其中vocab.txt中有57266个拼音组，对应了vectors.txt中的词向量

拿到这个拼音词向量之后我能做什么？

想法：
日常语音的拼音应该都在拼音组里，但是如何切拼音组呢？也就是语音转拼音那块，怎么能得到切分的拼音组？

## 3. 纠错基本知识归纳
中文文本纠错任务，常见错误类型包括：

- 谐音字词，如 配副眼睛-配副眼镜
- 混淆音字词，如 流浪织女-牛郎织女
- 字词顺序颠倒，如 伍迪艾伦-艾伦伍迪
- 字词补全，如 爱有天意-假如爱有天意
- 形似字错误，如 高梁-高粱
- 中文拼音全拼，如 xingfu-幸福
- 中文拼音缩写，如 sz-深圳
- 语法错误，如 想象难以-难以想象